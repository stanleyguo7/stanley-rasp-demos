const CORE_QA = [
  ["为什么超人总把内裤穿在外面？", "因为穿在里面没人看得见（梗）"],
  ["什么人每天靠脸吃饭，还越老越值钱？", "演员（尤其老戏骨）"],
  ["有一种东西，越分享越不会少，反而会变多，是什么？", "灵感"],
  ["为什么手机最怕两件事：没电和有电？", "没电不能用，有电会被消息轰炸"],
  ["什么东西你删掉之后反而会更快乐？", "无效社交群"],
  ["什么东西看起来是休息，实际上更累？", "无脑刷短视频"],
  ["什么职业最会‘画饼’？", "老板（脑洞梗）"],
  ["什么东西每个人都想控制，越控制越失控？", "情绪"],
  ["什么东西你天天说要开始，结果永远是明天？", "健身计划"],
  ["什么东西你一旦开始记账，就会突然变贵？", "生活"],
  ["什么东西只要一开口，就会暴露年龄？", "童年动画台词"],
  ["什么东西最像魔法，但本质是复利？", "好习惯"],
  ["什么东西明明在你手上，你却总说找不到？", "时间"],
  ["什么人最会‘瞬移’？", "下班后的打工人"],
  ["为什么咖啡叫‘续命水’？", "因为它先让你活过上午"],
  ["什么东西看起来便宜，用起来最贵？", "拖延"],
  ["什么东西你越怕它，越容易来？", "社死现场"],
  ["什么东西最公平，但最不讲人情？", "截止日期"],
  ["什么东西你不回它，它就更想你？", "未读消息"],
  ["什么东西越想睡早，越容易被它偷走时间？", "手机"],
  ["什么东西最像‘成年人的试卷’？", "每月账单"],
  ["为什么周一最像 bug？", "每周都被修复失败"],
  ["什么东西你越解释越像真的？", "误会"],
  ["什么东西最能检测友情？", "搬家"],
  ["什么东西最会让你‘先苦后更苦’？", "临时抱佛脚"],
  ["什么东西看起来是省钱，实际上是花钱？", "买一堆优惠券"],
  ["什么东西最容易把小事变大事？", "脑补"],
  ["什么东西最怕打开摄像头？", "素颜的你我他"],
  ["什么东西最像‘现代版捉迷藏’？", "找停车位"],
  ["什么东西每次都说最后一次，还会有下一次？", "熬夜"],
  ["什么东西会让你‘今天就开始’，明天就结束？", "冲动立 flag"],
  ["什么东西你越想快，越容易慢？", "输入验证码"],
  ["什么东西最会制造‘幻觉效率’？", "整理待办而不执行"],
  ["什么东西最像恋爱脑？", "购物车（越看越想要）"],
  ["什么东西最会让人‘原地升级’？", "复盘"],
  ["什么东西最像开盲盒？", "甲方需求"],
  ["什么东西最会提醒你年龄？", "膝盖"],
  ["什么东西最像‘命运共同体’？", "共享 Wi-Fi 的一家人"],
  ["什么东西最考验默契？", "两个人共用一个导航"],
  ["什么东西越便捷越让人迷路？", "太多选择"],
  ["什么东西最怕你认真看配料表？", "零食"],
  ["什么东西最像‘成年人童话’？", "涨薪通知"],
  ["什么东西最会让人忘词？", "突然点名"],
  ["什么东西最会让你秒懂人生？", "体检报告"],
  ["什么东西最像‘反向许愿’？", "说今天肯定不堵车"],
  ["什么东西最会在关键时刻掉链子？", "打印机"],
  ["什么东西最像薛定谔？", "外卖：到了但你没看到"],
  ["什么东西最容易引发家庭辩论赛？", "今晚吃什么"],
  ["什么东西最像通关游戏？", "把娃哄睡"],
  ["什么东西最会制造‘我懂了但我不会’？", "教程视频"],
  ["什么东西最像‘当代玄学’？", "抢演唱会门票"],
  ["什么东西最能暴露你是不是真的成熟？", "吵架后怎么说话"],
  ["什么东西最会让你感觉人生有进度条？", "快递物流"],
  ["什么东西最会制造幸福错觉？", "‘已发工资’短信"],
  ["什么东西最容易让人‘脑内拍电影’？", "已读不回"],
  ["什么东西最像‘大型多人在线副本’？", "早高峰地铁"],
  ["什么东西最怕你说‘我再想想’？", "冲动消费"],
  ["什么东西最像黑洞？", "衣柜（衣服很多但没得穿）"],
  ["什么东西最会让人‘知识进了脑子，手没学会’？", "做菜视频"],
  ["什么东西最像‘情绪天气预报’？", "电量 5%"],
  ["什么东西最能统一全人类语言？", "表情包"],
  ["什么东西最像‘成年人的安全感’？", "银行卡余额"],
  ["什么东西最会让你重新定义距离？", "堵车时的 2 公里"],
  ["什么东西最会让人瞬间共情？", "闹钟响第二遍"],
  ["什么东西最像‘社交版俄罗斯轮盘’？", "语音转文字"],
  ["什么东西最容易让你误判时间？", "刷评论区"],
  ["什么东西最像‘现代迷宫’？", "商场停车场"],
  ["什么东西最像‘高风险低收益投资’？", "和路怒的人讲道理"],
  ["什么东西最会让人想回到过去？", "误删文件"],
  ["什么东西最像‘成年人的鬼故事’？", "群里@全体成员"],
  ["什么东西最会把你从哲学家变成原始人？", "网卡"],
  ["什么东西最像‘现实版时间穿越’？", "午睡醒来不知道几点"],
  ["什么东西最会让人突然变专家？", "朋友圈评论区"],
  ["什么东西最像‘情绪杠杆’？", "一句‘你在吗’"],
  ["什么东西最会让你‘我马上到’？", "刚起床"],
  ["什么东西最像‘隐形运动’？", "找钥匙"],
  ["什么东西最会让你秒懂‘珍惜当下’？", "手机掉地上那一秒"],
  ["什么东西最像‘现代人斗智斗勇’？", "跟验证码比手速"],
  ["什么东西最会让你想戒掉又离不开？", "奶茶"],
  ["什么东西最像‘日常修仙’？", "带娃"],
  ["什么东西最会让人以为自己很忙？", "不停切换窗口"],
  ["什么东西最会让你感受到人类渺小？", "甲方一句‘再改改’"],
  ["什么东西最像‘精神健身房’？", "开会不翻白眼"],
  ["什么东西最会让你怀疑数学？", "满减规则"],
  ["什么东西最像‘人生随机副本’？", "亲戚催婚局"],
  ["什么东西最会让你变成侦探？", "孩子突然安静"],
  ["什么东西最像‘当代炼金术’？", "把剩饭变新菜"],
  ["什么东西最会让你‘嘴上不急，手上很急’？", "红包倒计时"],
  ["什么东西最像‘社交温度计’？", "你发的梗有没有人接"],
  ["什么东西最会让你感到世界很小？", "在外地碰到同学"],
  ["什么东西最像‘心态试金石’？", "孩子把牛奶打翻"],
  ["什么东西最会让你突然文化人？", "给娃讲作业题"],
  ["什么东西最像‘高压测试’？", "家里网断了"],
  ["什么东西最会让你相信奇迹？", "最后一分钟赶上电梯"],
  ["什么东西最像‘成年人撒娇’？", "说自己‘不会这个’"],
  ["什么东西最会让你想静静？", "群消息 99+"],
  ["什么东西最像‘人生补丁’？", "周末补觉"],
  ["什么东西最会让你判断失误？", "‘再看一集就睡’"],
  ["什么东西最像‘全家 KPI’？", "孩子早睡"],
  ["什么东西最会让你瞬间勇敢？", "保护孩子时"],
  ["什么东西最像‘现代情书’？", "帮你点好外卖"],
  ["什么东西最会让你从容消失？", "戴上耳机"],
  ["什么东西最像‘社会通行证’？", "礼貌"],
  ["什么东西最会放大你的疲惫？", "碎片化睡眠"],
  ["什么东西最像‘人生操作系统更新’？", "一次大病后的改变"],
  ["什么东西最会让你发现自己变了？", "回看旧聊天记录"],
  ["什么东西最像‘隐形财富’？", "稳定作息"],
  ["什么东西最会让你突然懂父母？", "自己当父母之后"],
  ["什么东西最像‘快乐开关’？", "一家人都吃饱后"],
  ["什么东西最会让你觉得‘值了’？", "坚持很久后第一次结果"],
  ["什么东西最像‘终极脑洞’？", "换个角度看同一件事"],
];

const totalEl = document.getElementById('total');
const roundEl = document.getElementById('round');
const questionEl = document.getElementById('question');
const answerEl = document.getElementById('answer');
const historyEl = document.getElementById('history');
const nextBtn = document.getElementById('nextBtn');
const showBtn = document.getElementById('showBtn');

let bag = [];
let current = null;
let round = 1;

totalEl.textContent = String(CORE_QA.length);

function refillBag() {
  bag = CORE_QA.map((_, i) => i);
  for (let i = bag.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [bag[i], bag[j]] = [bag[j], bag[i]];
  }
}

function pickOne() {
  if (bag.length === 0) refillBag();
  current = CORE_QA[bag.pop()];
  questionEl.textContent = current[0];
  answerEl.textContent = `答案：${current[1]}`;
  answerEl.classList.add('hidden');
}

function addHistory(text) {
  const li = document.createElement('li');
  li.textContent = text;
  historyEl.prepend(li);
}

nextBtn.addEventListener('click', () => {
  if (current) addHistory(`第 ${round} 轮：${current[0]}`);
  pickOne();
  roundEl.textContent = String(round);
  round += 1;
});

showBtn.addEventListener('click', () => {
  if (!current) return;
  answerEl.classList.remove('hidden');
  addHistory(`揭晓：${current[1]}`);
});

refillBag();
