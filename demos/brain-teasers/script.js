const QA = [
  ["什么东西越洗越脏？","水"],["什么门永远关不上？","球门"],["什么东西有头有尾却没有身体？","硬币"],["什么车从来不需要加油？","风车"],
  ["什么书你永远也读不完？","百科全书"],["什么东西天气越热越爱出来？","汗"],["什么人睡着了最容易被吵醒？","睡得最浅的人"],["什么布剪不断？","瀑布"],
  ["什么东西能吃不能碰？","亏"],["什么线看得见却摸不着？","光线"],["什么球离你最近却踢不到？","眼球"],["什么字人人都会念错？","错"],
  ["什么帽不能戴？","螺帽"],["什么东西越分享越多？","快乐"],["什么时候四减一等于五？","写错的时候"],["什么动物最怕水？","落汤鸡（不是动物，脑筋急转弯梗）"],
  ["什么东西有牙齿却咬不动？","梳子"],["什么东西越用越少？","橡皮"],["什么东西明明是你的，别人却用得更多？","你的名字"],["什么东西有脚却不会走路？","桌子"],
  ["什么东西越冷越爱出来？","鼻涕"],["什么东西可以打破却不能修补？","纪录"],["什么东西装得越多越轻？","气球"],["什么东西不用时朝下，用时朝上？","雨伞"],
  ["什么东西左看像电灯，右看像电灯，前后看都像电灯？","坏掉的电灯"],["什么鱼不能吃？","木鱼"],["什么东西你有我有大家有，但谁都看不见？","空气"],["什么瓜不能吃？","傻瓜"],
  ["什么东西上升的时候会下降？","年龄（年龄上升，人生剩余时间下降）"],["什么雨可以淋到人却不是天上下的？","枪林弹雨"],["什么刀最长？","唠叨（捞刀）"],["什么蛋打不烂也不能吃？","脸蛋"],
  ["什么房子不能住人？","蜂房"],["什么船最安全？","宇宙飞船（离海盗最远）"],["什么锅不能做饭？","黑锅"],["什么牛不会耕田？","蜗牛"],
  ["什么菜不能吃？","白菜（梗：‘白’菜只是颜色玩笑）"],["什么桥最难走？","独木桥"],["什么药最甜？","蜜糖（谐趣）"],["什么河没有水？","银河"],
  ["什么杯不能喝水？","奖杯"],["什么镜子看不到自己？","放大镜"],["什么床不能睡？","牙床"],["什么笔不能写字？","毛笔（脱毛了）"],
  ["什么苹果不能吃？","手机上的苹果图标"],["什么鼠最爱干净？","袋鼠（天天‘袋’着）"],["什么猫从不抓老鼠？","熊猫"],["什么鸭子最爱迟到？","慢吞吞的‘拖拉鸭’（谐趣）"],
  ["什么东西越生气越大？","脾气"],["什么事情明明是第一次却叫第二次？","看日出（第二天）"],["什么东西总在你前面你却追不上？","明天"],["什么东西会跑却没有腿？","时间"],
  ["什么火不会烧伤人？","怒火（比喻）"],["什么东西天天见却摸不着？","彩虹"],["什么东西人人都想要却不想给？","钱"],["什么事睁一只眼闭一只眼比较好？","射击"],
  ["什么水果最忙？","芒果"],["什么水果最怕冷？","香蕉（会‘冻伤’）"],["什么水果最有学问？","博士梨（谐音）"],["什么水果会打电话？","葡萄（‘拨’萄）"],
  ["什么动物最容易摔倒？","狐狸（狡猾脚滑）"],["什么动物最会聊天？","鹦鹉"],["什么动物最怕热？","北极熊"],["什么动物早上四条腿中午两条腿晚上三条腿？","人"],
  ["什么东西你对它笑，它也会对你笑？","镜子"],["什么东西写出来看得见，摸不着？","字"],["什么东西一分钟有时长有时短？","‘分钟’里的秒针感觉"],["什么东西越快越慢？","眨眼（快到看不清）"],
  ["什么东西有时是方的有时是圆的？","月亮"],["什么东西最听话？","回声（你说啥它说啥）"],["什么东西爱吃不爱吐？","存钱罐"],["什么东西会变老却不会长大？","照片"],
  ["什么课没人想上？","补课"],["什么考试最简单？","闭着眼考试（开玩笑）"],["什么同学最安静？","隐形同学（脑洞）"],["什么老师最吓人？","‘后果自负’老师（梗）"],
  ["什么字加一笔就变另外一个字？","很多字都可以，例如‘十’加一笔变‘土’"],["什么门最难开？","心门"],["什么路最窄？","冤家路窄"],["什么山最小？","土丘（脑筋题）"],
  ["什么衣服最耐穿？","校服（天天穿）"],["什么鞋最省力？","拖鞋"],["什么帽子最轻？","羽毛帽"],["什么裤子最短？","短裤"],
  ["什么东西一出生就老了？","身份证号（出生即固定）"],["什么东西有时候方有时候圆还会发光？","手机屏幕上的月亮图标"],["什么地方开口说话最小声？","图书馆"],["什么东西越走越远却不离开原地？","钟表指针"],
  ["什么东西先有洞后有眼？","针"],["什么东西在手里却抓不住？","沙子"],["什么东西在天上最自由？","云"],["什么东西掉了你会高兴？","烦恼"],
  ["什么东西每天都在变却看不见？","时间"],["什么东西会飞却不是鸟？","飞机"],["什么东西有翅膀却不会飞？","电风扇"],["什么东西越吃越饿？","口香糖（无饱腹）"],
  ["什么东西越站越矮？","蜡烛"],["什么东西怕晒却天天晒？","衣服"],["什么东西爱睡觉却没有床？","手机（待机）"],["什么东西最会保密？","保险箱"],
  ["什么东西会响却没有嘴？","闹钟"],["什么东西会说话却没有舌头？","电话"],["什么东西有方向却没有脚？","指南针"],["什么东西你越追它跑得越快？","机会（错过）"],
  ["什么东西看得见摸不着，闻得到吃不着？","花香"],["什么东西人人有，却总觉得不够？","时间"],["什么东西不用就会生锈？","脑子"],["什么东西最公平？","时间（每天24小时）"],
  ["什么东西不用买，人人都有？","影子"],["什么东西白天短晚上长？","影子（反题）"],["什么东西看着软，用着硬？","牙刷"],["什么东西看着硬，用着软？","枕头"],
  ["什么东西越轻越拿不动？","空气"],["什么东西你看不见却能挡住你？","墙（被挡住看不到前路）"],["什么东西从不迟到？","明天（总会到）"],["什么东西总在最后出现？","结尾"],
  ["什么东西可以倒着走？","表针"],["什么东西可以不吃不喝活很久？","石头"],["什么东西最怕‘认真’？","玩笑"],["什么东西最怕‘比较’？","幸福（比来比去会减少）"],
  ["什么东西每个人都能拥有两次童年？","回忆"],["什么东西可以借给别人却拿不回来？","时间"],["什么东西你丢了别人捡不到？","脾气"],["什么东西学会了反而更像不会？","装傻"],
  ["什么东西白天见不到晚上有很多？","星星"],["什么东西可以填满房间却不占空间？","光"],["什么东西会在水里跑？","波纹"],["什么东西会在地上飞？","影子"],
  ["什么东西有始有终却没有中间？","‘始终’这个词（文字游戏）"],["什么东西最喜欢问为什么？","小孩子"],["什么东西最会‘装’？","集装箱"],["什么东西不学也会？","变老"],
  ["什么东西人人想留住却留不住？","青春"],["什么东西最会骗人？","错觉"],["什么东西最会提醒你？","闹钟"],["什么东西每天都‘重启’？","新的一天"],
  ["什么东西在家里最常‘失踪’？","遥控器"],["什么东西越怕它越来？","麻烦"],["什么东西看起来便宜其实很贵？","拖延"],["什么东西越早做越轻松？","作业"],
  ["什么东西最懂你的心情？","音乐"],["什么东西最不怕黑？","夜猫子"],["什么东西总在计划外？","变化"],["什么东西每次都说‘就五分钟’？","短视频"],
  ["什么东西最会占地方？","杂物"],["什么东西最会偷时间？","分心"],["什么东西会让人上头？","咖啡因"],["什么东西最能让人团结？","共同目标"],
  ["什么东西最像魔法？","习惯"],["什么东西越坚持越值钱？","自律"],["什么东西最容易被低估？","睡眠"],["什么东西最容易被高估？","天赋"],
  ["什么东西最能改变一天？","早起的第一件事"],["什么东西最容易让人后悔？","冲动"],["什么东西最容易让人开心？","被理解"],["什么东西最容易让人长胖？","宵夜"],
  ["什么东西最适合分享？","好消息"],["什么东西最怕没电？","手机"],["什么东西最怕断网？","在线会议"],["什么东西最怕沉默？","尴尬"],
  ["什么东西看似结束其实开始？","毕业"],["什么东西看似慢其实快？","复利"],["什么东西看似小其实大？","习惯"],["什么东西看似普通却很稀有？","真诚"]
];

const roundEl = document.getElementById('round');
const totalEl = document.getElementById('total');
const questionEl = document.getElementById('question');
const answerEl = document.getElementById('answer');
const historyEl = document.getElementById('history');
const nextBtn = document.getElementById('nextBtn');
const showBtn = document.getElementById('showBtn');

let round = 1;
let current = null;
let bag = [];

totalEl.textContent = String(QA.length);

function refillBag() {
  bag = QA.map((_, i) => i);
  for (let i = bag.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [bag[i], bag[j]] = [bag[j], bag[i]];
  }
}

function drawQuestion() {
  if (bag.length === 0) refillBag();
  const idx = bag.pop();
  current = QA[idx];
  questionEl.textContent = current[0];
  answerEl.textContent = `答案：${current[1]}`;
  answerEl.classList.add('hidden');
}

function addHistory(text) {
  const li = document.createElement('li');
  li.textContent = text;
  historyEl.prepend(li);
}

nextBtn.addEventListener('click', () => {
  if (current) addHistory(`第 ${round} 轮：${current[0]}`);
  drawQuestion();
  roundEl.textContent = String(round);
  round += 1;
});

showBtn.addEventListener('click', () => {
  if (!current) return;
  answerEl.classList.remove('hidden');
  addHistory(`揭晓：${current[1]}`);
});

refillBag();
