const CORE_QA = [
  ["什么东西你有，别人也有，偏偏别人经常拿来叫你？", "你的名字"],
  ["什么门永远关不上？", "球门"],
  ["什么东西越洗越脏？", "水"],
  ["什么东西有牙却咬不动？", "梳子"],
  ["什么东西明明是你的，别人用得更多？", "你的名字"],
  ["什么东西打破了大家都高兴？", "纪录"],
  ["什么东西越分享越多？", "快乐"],
  ["什么东西看不见摸不着，却最公平？", "时间"],
  ["什么东西从出生就固定了？", "生日"],
  ["什么东西越快越慢？", "眨眼（快到看不清）"],
  ["什么东西上楼下楼都在走，却从不离开原地？", "楼梯"],
  ["什么路最窄？", "冤家路窄"],
  ["什么布剪不断？", "瀑布"],
  ["什么水永远用不完？", "口水"],
  ["什么东西先有洞再有眼？", "针"],
  ["什么球离你最近却踢不到？", "眼球"],
  ["什么东西最会复读你说的话？", "回声"],
  ["什么东西天生怕晒却天天晒？", "衣服"],
  ["什么东西人人都有但很少人满意？", "身高（或现状）"],
  ["什么东西可以装满房间却不占地方？", "光"],
  ["什么东西会飞但不是鸟？", "飞机"],
  ["什么东西有翅膀却不会飞？", "电风扇"],
  ["什么东西越站越短？", "蜡烛"],
  ["什么东西人人都怕它来，却又总会来？", "明天的闹钟"],
  ["什么东西你对它笑，它也对你笑？", "镜子"],
  ["什么东西越吃越觉得饿？", "口香糖"],
  ["什么东西总在你前面，却永远追不上？", "明天"],
  ["什么东西会跑却没有腿？", "时间"],
  ["什么动物最会学人说话？", "鹦鹉"],
  ["什么动物最像程序员？", "蜘蛛（天天织网）"],
  ["什么猫不抓老鼠？", "熊猫"],
  ["什么鱼不能吃？", "木鱼"],
  ["什么牛不会耕田？", "蜗牛"],
  ["什么鸭子最爱迟到？", "拖拉鸭（谐趣）"],
  ["什么瓜不能吃？", "傻瓜"],
  ["什么蛋不能吃？", "脸蛋"],
  ["什么杯不能喝水？", "奖杯"],
  ["什么车最不怕堵车？", "碰碰车"],
  ["什么桥最难过？", "独木桥"],
  ["什么河里没有水？", "银河"],
  ["什么药最甜？", "蜜糖"],
  ["什么课大家都不爱上？", "补课"],
  ["什么钱最不值钱？", "零钱（总被忽略）"],
  ["什么事睁一只眼闭一只眼更好？", "射击"],
  ["什么时候4-1=5？", "算错的时候"],
  ["什么时候你跑得再快也前进不了？", "跑步机上"],
  ["什么时候太阳会从西边出来？", "地图上"],
  ["什么时候你最像透明人？", "群聊没人回你时"],
  ["什么人每天靠脸吃饭？", "演员"],
  ["什么人睡着了最容易被吵醒？", "浅睡的人"],
  ["谁天天上班但从不拿工资？", "闹钟"],
  ["谁每天都在你旁边却从不说话？", "影子"],
  ["什么东西借给别人就很难要回来？", "时间"],
  ["什么东西你丢了别人捡不走？", "脾气"],
  ["什么东西每天都在变却看不见？", "年龄"],
  ["什么东西最懂你心情？", "音乐"],
  ["什么东西总在计划外？", "变化"],
  ["什么东西最怕比较？", "幸福"],
  ["什么东西越坚持越值钱？", "习惯"],
  ["什么东西最容易被偷走？", "注意力"],
  ["什么东西越拖越难？", "作业"],
  ["什么东西看起来慢其实最快？", "复利"],
  ["什么东西最能让人团结？", "共同目标"],
  ["什么东西看起来普通却很稀有？", "真诚"],
  ["什么东西最怕没电？", "手机"],
  ["什么东西最怕断网？", "线上会议"],
  ["什么东西最怕沉默？", "尴尬"],
  ["什么东西让你越刷越晚睡？", "短视频"],
  ["什么东西最会偷时间？", "分心"],
  ["什么东西最会占空间？", "杂物"],
  ["什么东西最容易被低估？", "睡眠"],
  ["什么东西最容易被高估？", "天赋"],
  ["什么东西每天都重启一次？", "新的一天"],
  ["什么东西大家都想留住却留不住？", "青春"],
  ["什么东西最会骗人？", "错觉"],
  ["什么东西总是迟到却从不缺席？", "机会（你准备好时才看见）"],
  ["什么东西看不见却能把你挡住？", "墙后的路"],
  ["什么东西你越抓越抓不住？", "沙子"],
  ["什么东西白天短晚上长？", "影子（脑洞版）"],
  ["什么东西有头有尾却没有身体？", "硬币"],
  ["什么东西有脚却不会走？", "桌子"],
  ["什么东西会响却没嘴？", "闹钟"],
  ["什么东西会说话却没舌头？", "电话"],
  ["什么东西有方向却没脚？", "指南针"],
  ["什么东西掉了你会开心？", "烦恼"],
  ["什么东西每天都见却碰不到？", "彩虹"],
  ["什么东西有时方有时圆？", "月亮"],
  ["什么东西最听话？", "回声"],
  ["什么东西最爱吃却从不吐？", "存钱罐"],
  ["什么东西会变老但不会长大？", "照片"],
  ["什么东西最常在家里失踪？", "遥控器"],
  ["什么东西越怕越来？", "麻烦"],
  ["什么东西看着便宜，拖久了最贵？", "拖延"],
  ["什么东西最适合分享？", "好消息"],
  ["什么东西越早做越轻松？", "准备"],
  ["什么东西最会提醒你？", "闹钟"],
  ["什么东西最像魔法？", "长期坚持"],
  ["什么东西白天看不到，夜里满天都是？", "星星"],
  ["什么东西可以在水里跑？", "波纹"],
  ["什么东西会在地上飞？", "影子"],
  ["什么东西最爱问为什么？", "小朋友"],
  ["什么东西不学也会？", "变老"],
  ["什么东西每天都要做却做不完？", "选择"],
  ["什么东西不花钱就能给别人？", "微笑"],
  ["什么东西越讲道理越容易输？", "吵架"],
  ["什么东西最怕认真？", "玩笑"],
  ["什么东西越安静越有力量？", "专注"],
  ["什么东西最像健身？", "改习惯"],
  ["什么东西看似结束其实开始？", "毕业"],
  ["什么东西一旦开始最难停？", "刷手机"],
  ["什么东西越忙越少？", "耐心"],
  ["什么东西越练越像天赋？", "基本功"],
  ["什么东西你每天都在用却不爱维护？", "身体"],
  ["什么东西最值钱却不能存银行？", "信任"],
  ["什么东西最怕‘明天再说’？", "梦想"],
  ["什么东西最会放大你的问题？", "熬夜"],
  ["什么东西你越感谢它越多？", "好运气（心态）"],
  ["什么东西最容易让人误会你？", "沉默"],
  ["什么东西每天都在提醒你长大？", "责任"],
  ["什么东西你给出去反而更富有？", "善意"],
  ["什么东西最像复习？", "犯过的错"],
  ["什么东西最会‘悄悄改变’你？", "环境"],
  ["什么东西最该囤却常常断货？", "耐心"],
  ["什么东西最难管理？", "自己"],
  ["什么东西最该早点开始？", "运动和储蓄"],
  ["什么东西最需要更新版本？", "认知"],
  ["什么东西最适合立刻去做？", "该做但一直拖的事"],
  ["什么东西你现在就有，却总以为以后才有？", "当下"],
  ["什么东西最容易被忽略但最重要？", "健康"],
  ["什么东西在你放下比较后突然变多？", "幸福感"],
  ["什么东西你越舍得夸别人自己越舒服？", "心态"],
  ["什么东西可以让普通一天变好？", "一个好习惯"],
  ["什么东西最值得长期投资？", "自己"],
  ["什么东西越简单越难长期做到？", "早睡早起"],
  ["什么东西最考验‘说到做到’？", "目标"],
  ["什么东西越想控制越容易失控？", "情绪"],
  ["什么东西你一旦开始记录就会进步？", "习惯数据"],
  ["什么东西最容易被低估回报？", "复盘"],
  ["什么东西越感谢越看得见？", "生活里的好事"],
  ["什么东西让你今天比昨天更强一点？", "持续行动"],
  ["什么东西最像脑筋急转弯本身？", "换个角度"],
];

const totalEl = document.getElementById('total');
const roundEl = document.getElementById('round');
const questionEl = document.getElementById('question');
const answerEl = document.getElementById('answer');
const historyEl = document.getElementById('history');
const nextBtn = document.getElementById('nextBtn');
const showBtn = document.getElementById('showBtn');

let bag = [];
let current = null;
let round = 1;

totalEl.textContent = String(CORE_QA.length);

function refillBag() {
  bag = CORE_QA.map((_, i) => i);
  for (let i = bag.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [bag[i], bag[j]] = [bag[j], bag[i]];
  }
}

function pickOne() {
  if (bag.length === 0) refillBag();
  current = CORE_QA[bag.pop()];
  questionEl.textContent = current[0];
  answerEl.textContent = `答案：${current[1]}`;
  answerEl.classList.add('hidden');
}

function addHistory(text) {
  const li = document.createElement('li');
  li.textContent = text;
  historyEl.prepend(li);
}

nextBtn.addEventListener('click', () => {
  if (current) addHistory(`第 ${round} 轮：${current[0]}`);
  pickOne();
  roundEl.textContent = String(round);
  round += 1;
});

showBtn.addEventListener('click', () => {
  if (!current) return;
  answerEl.classList.remove('hidden');
  addHistory(`揭晓：${current[1]}`);
});

refillBag();
